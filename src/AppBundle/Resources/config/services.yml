parameters:
#    app.example.class: AppBundle\Example

services:
    hwi_oauth.resource_owner.bank_id:
        class: AppBundle\Security\BankIdResourceOwner
        arguments:
            - @buzz.client
            - @security.http_utils
            - client_id: %client_id%
              client_secret: %client_secret%
              authorization_url: https://bankid.privatbank.ua/DataAccessService/das/authorize
              access_token_url: https://bankid.privatbank.ua/DataAccessService/oauth/token
              infos_url: https://bankid.privatbank.ua/ResourceService/checked/data
              user_response_class: AppBundle\Security\Response\BankIdUserResponse
            - "bank_id"
            - @hwi_oauth.storage.session
    app.twig_extension:
        class: AppBundle\Twig\AppExtension
        public: false
        arguments:
            - @hwi_oauth.resource_owner.bank_id
            - @router
        tags:
            - { name: twig.extension }
    app.user.manager:
        class:  AppBundle\Helper\UserManager
        arguments:
            - @templating
            - @doctrine.orm.entity_manager
            - @security.token_storage
            - @session
        calls:
            - [ setRootDir, ["%kernel.root_dir%"] ]

    app.seesion:
        class:  AppBundle\Helper\SessionSet
        arguments:
            - @session